<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Tag Meta yang Diperlukan -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <meta property="og:title" content="Bucket Tangan Navirins" />
    <meta property="og:description" content="Apakah kamu mencari bucket tangan hias?" />
    <meta property="og:image" content="{{ url_for('static', filename='') }}" />

    <!-- Judul Halaman Web -->
    <title>Navirin's</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../static/img/favicon.ico" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet" />

    <!-- CSS Files -->
    <link href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet" />
    <link href="../static/css/style.css" rel="stylesheet" />
    <link href="../static/css/style_lama.css" rel="stylesheet" />

</head>

<body>

    <!-- Header -->
    <header id="header" class="fixed-top">
        <div class="container d-flex align-items-center justify-content-between">

            <h1 class="logo"><a href="/">Navirin's</a></h1>

            <nav id="navbar" class="navbar">
                <ul>
                    <li><a class="nav-link scrollto" href="/">Beranda</a></li>
                    <li><a class="nav-link scrollto " href="#portfolio">Koleksi Buket</a></li>
                    <li class="dropdown"><a href="#"><span>{{ user_info.profile_name }}</span> <i class="bi bi-chevron-down"></i></a>
                        <ul>
                            <li><a href="/profil/{{ user_info.account_name }}">Profil</a></li>
                            <!-- <li>
                                <a class= "d-flex align-items-center" href="/obrolan/{{ user_info.account_name }}">
                                    <i class="bi bi-chat-left-dots"></i>
                                    <span class="text-start">Obrolan</span>
                                </a>
                            </li> -->
                            <li><a href="/obrolan/{{ user_info.account_name }}">Obrolan</a></li>
                            <li><a href="/histori-pembayaran/{{ user_info.account_name }}">Histori Pembayaran</a></li>
                            <li><a href="/status-pengiriman/{{ user_info.account_name }}">Status Pengiriman</a></li>
                            <li><a href="#" onclick="logout()">Keluar</a></li>
                        </ul>
                    </li>
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav>

        </div>
    </header>

    <main id="main" class="mt-5">

        <!-- Profil -->
        <section id="about" class="about">
            <div class="container" data-aos="fade-up">

                <div class="section-title">
                    <h2>Profil</h2>
                    <p>Ini profil Anda</p>
                </div>

                <div class="row content">
                    <div class="col-lg-6">
                        <p>
                            Pelanggan dapat mengajukan permintaan buket seperti yang Anda inginkan, dan dapat memberikan ide kreatif yang Anda miliki pada layanan pesanan khusus (custom order). Puaskan diri Anda dengan memesan produk sesuai dengan keinginan hati.
                        </p>
                        <p>
                            Syarat dan Ketentuan Custom Order:
                        </p>
                        <ul>
                            <li><i class="ri-check-double-line"></i> Setelah custom form di submit, Navirin's akan menghubungi Anda melalui website Navirin's atau Email untuk konfirmasi pemesanan.</li>
                            <li><i class="ri-check-double-line"></i> Ketersediaan barang dapat berubah sewaktu-waktu.</li>
                            <li><i class="ri-check-double-line"></i> Pesanan tidak dapat diubah.</li>
                            <li><i class="ri-check-double-line"></i> Silahkan hubungi kami lewat chat online untuk pertanyaan lebih lanjut.</li>
                        </ul>
                    </div>
                    <div class="col-lg-6 pt-4 pt-lg-0">
                        <h5>Opsi Pengiriman</h5>
                        <ol>
                            <li>Pengiriman dapat dilakukan menggunakan kurir Navirin's, selama lokasi kurang dari 2 km.</li>
                            <li>Pengiriman dapat dilakukan dengan ojek online, customer wajib melakukan pemesanan mandiri pada saat hari pengiriman.</li>
                        </ol>
                        <a href="#" class="btn-learn-more">Hubungi Kami</a>
                    </div>
                </div>

            </div>
        </section>

        <!-- Coba profil -->
        <section class="section profile">
            <div class="row">
                <div class="col-xl-4">
        
                    <div class="card">
                        <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">
            
                            <img src="{{ url_for('static', filename=user_info.profile_pic_real) }}" alt="Profile" class="rounded-circle">
                            <h2>{{ user_info.account_name }}</h2>
                            <h3>{{ user_info.profile_name }}</h3>
                            <div class="social-links mt-2">
                                <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
                                <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
                                <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
                                <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <!-- Button trigger modal -->
                            <button type="button" class="btn btn-outline-success wide-button" data-bs-toggle="modal" data-bs-target="#editProfileModal">
                                <i class="bi bi-pencil"></i>
                                Edit Profil
                            </button>
                        </div>
                    </div>
        
                </div>
        
                <div class="col-xl-8">
        
                    <div class="card">
                        <div class="card-body pt-3">
                            <!-- Bordered Tabs -->
                            <div class="tab-content pt-2">
            
                                <div class="tab-pane fade show active profile-overview" id="profile-overview">
                                    <h5 class="card-title">Bio</h5>
                                    <p class="small fst-italic">{{ user_info.bio }}</p>
                
                                    <h5 class="card-title">Detail Profile</h5>
                
                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Nama Depan</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.first_name }}</div>
                                    </div>
                
                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Nama Belakang</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.last_name }}</div>
                                    </div>
                
                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Nama Akun</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.account_name }}</div>
                                    </div>
                
                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Role</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.role }}</div>
                                    </div>
                
                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">RT</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.neighbourhood }}</div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">RW</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.hamlet }}</div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Desa/Kelurahan</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.village_or_urban_village }}</div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Kecamatan</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.sub_district }}</div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Kabupaten/Kota</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.regency_or_town }}</div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Provinsi</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.province }}</div>
                                    </div>
                
                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">No Telepon</div>
                                        <div class="col-lg-9 col-md-8">{{ user_info.phone }}</div>
                                    </div>
                
                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Email</div>
                                        <div class="col-lg-9 col-md-8"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="462d68272822233435292806233e272b362a236825292b">[email&#160;protected]</a></div>
                                    </div>
                
                                </div>
            
                            </div>
            
                        </div>
                    </div>
        
                </div>
            </div>
        </section>

    </main>

    <!-- Modal -->
    <div class="modal fade" id="editProfileModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Edit Profile</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="firstName" class="form-label">Nama Depan</label>
                            <input type="text" class="form-control" id="firstName" value="{{ user_info.first_name }}">
                        </div>
                        <div class="mb-3">
                            <label for="lastName" class="form-label">Nama Belakang</label>
                            <input type="text" class="form-control" id="lastName" value="{{ user_info.last_name }}">
                        </div>
                        <div class="mb-3">
                            <label for="neighbourhood" class="form-label">RT</label>
                            <input type="text" class="form-control" id="neighbourhood" value="{{ user_info.neighbourhood }}">
                        </div>
                        <div class="mb-3">
                            <label for="hamlet" class="form-label">RW</label>
                            <input type="text" class="form-control" id="hamlet" value="{{ user_info.hamlet }}">
                        </div>
                        <div class="mb-3">
                            <label for="villageOrUrbanVillage" class="form-label">Desa/Kelurahan</label>
                            <input type="text" class="form-control" id="villageOrUrbanVillage" value="{{ user_info.village_or_urban_village }}">
                        </div>
                        <div class="mb-3">
                            <label for="subDistrict" class="form-label">Kecamatan</label>
                            <input type="text" class="form-control" id="subDistrict" value="{{ user_info.sub_district }}">
                        </div>
                        <div class="mb-3">
                            <label for="regencyOrTown" class="form-label">Kota/Kabupaten</label>
                            <input type="text" class="form-control" id="regencyOrTown" value="{{ user_info.regency_or_town }}">
                        </div>
                        <div class="mb-3">
                            <label for="province" class="form-label">Provinsi</label>
                            <input type="text" class="form-control" id="province" value="{{ user_info.province }}">
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">No Telepon</label>
                            <input type="text" class="form-control" id="phone" value="{{ user_info.phone }}">
                        </div>
                        <div class="mb-3"> 
                            <label for="profilePicture" class="form-label">Foto Profil</label>
                            <input type="file" class="form-control" id="profilePicture" value="{{ user_info.profile_pic }}">
                        </div>
                        <div class="mb-3"> 
                            <label for="bio" class="form-label">Bio</label>
                            <input type="file" class="form-control" id="bio" value="{{ user_info.bio }}">
                            <textarea class="textarea" id="bio">{{ user_info.bio }}</textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" onclick="update_profile()">Perbarui</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
        <div class="footer-top">
            <div class="container">
                <div class="row">

                    <div class="col-lg-4 col-md-6">
                        <div class="footer-info">
                            <h3>Multi</h3>
                            <p class="pb-3"><em>Qui repudiandae et eum dolores alias sed ea. Qui suscipit veniam excepturi quod.</em></p>
                            <p>
                                A108 Adam Street <br>
                                NY 535022, USA<br><br>
                                <strong>Phone:</strong> +1 5589 55488 55<br>
                                <strong>Email:</strong> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f29b9c949db2978a939f829e97dc919d9f">[email&#160;protected]</a><br>
                            </p>
                            <div class="social-links mt-3">
                                <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
                                <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
                                <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
                                <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
                                <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-2 col-md-6 footer-links">
                        <h4>Useful Links</h4>
                        <ul>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Privacy policy</a></li>
                        </ul>
                    </div>

                    <div class="col-lg-2 col-md-6 footer-links">
                        <h4>Our Services</h4>
                        <ul>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Web Design</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Web Development</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Product Management</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Marketing</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Graphic Design</a></li>
                        </ul>
                    </div>

                    <div class="col-lg-4 col-md-6 footer-newsletter">
                        <h4>Our Newsletter</h4>
                        <p>Tamen quem nulla quae legam multos aute sint culpa legam noster magna</p>
                        <form action="" method="post">
                            <input type="email" name="email"><input type="submit" value="Subscribe">
                        </form>

                    </div>

                </div>
            </div>
        </div>

        <div class="container">
            <div class="copyright">
                &copy; Hak Cipta <strong><span>Navirin's</span></strong>. All Rights Reserved
            </div>
        </div>
    </footer>

    <div id="preloader"></div>
    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <!-- JS Files -->
    <!-- <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/js/glightbox.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/isotope-layout@3.0.6/dist/isotope.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- <script src="../../../assets/vendor/php-email-form/validate.js"></script> -->
    <script src="../static/js/script.js"></script>
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vef91dfe02fce4ee0ad053f6de4f175db1715022073587" integrity="sha512-sDIX0kl85v1Cl5tu4WGLZCpH/dV9OHbA4YlKCuCiMmOQIk4buzoYDZSFj+TvC71mOBLh8CDC/REgE0GX0xcbjA==" data-cf-beacon='{"rayId":"888acaedeb29797c","version":"2024.4.1","token":"68c5ca450bae485a842ff76066d69420"}' crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        function update_profile() {
            let first_name = $('#firstName').val();
            let last_name = $('#lastName').val();
            let neighbourhood = $('#neighbourhood').val();
            let hamlet = $('#hamlet').val();
            let village_or_urban_village = $('#villageOrUrbanVillage').val();
            let sub_district = $('#subDistrict').val();
            let regency_or_town = $('#regencyOrTown').val();
            let province = $('#province').val();
            let phone = $('#phone').val();
            let profile_picture = $('#profilePicture')[0].files[0];
            let bio = $('#bio').val();
            let form_data = new FormData();
            form_data.append('first_name_give', first_name);
            form_data.append('last_name_give', last_name);
            form_data.append('neighbourhood_give', neighbourhood);
            form_data.append('hamlet_give', hamlet);
            form_data.append('village_or_urban_village_give', village_or_urban_village);
            form_data.append('sub_district_give', sub_district);
            form_data.append('regency_or_town_give', regency_or_town);
            form_data.append('province_give', province);
            form_data.append('phone_give', phone);
            form_data.append('bio_give', bio);
            $.ajax({
                type: 'POST',
                url: '/memperbarui-profil',
                cache: false,
                data: form_data,
                processData: false,
                contentType: false,
                success: function (response) {
                    if (response['result'] === 'success') {
                        alert(response['msg']);
                        window.location.reload();
                    }
                },
            });
        }

        function logout() {
            $.removeCookie('bouquet', { path: '/' })
            Swal.fire({
                title: "Keluar",
                text: "Apakah Anda yakin ingin keluar dari website ini?",
                icon: "warning",
                showClass: {
                    popup: `
                        animate__animated
                        animate__fadeInDown
                    `
                },
                showCloseButton: true,
                showCancelButton: true,
                confirmButtonText: "Yakin",
                cancelButtonText: "Batal",
                hideClass: {
                    popup: `
                        animate__animated
                        animate__fadeOut
                    `
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    const Toast = Swal.mixin({
                        toast: true,
                        position: 'top',
                        showConfirmButton: false,
                        timer: 3000,
                        timerProgressBar: true,
                        didOpen: (toast) => {
                            toast.onmouseenter = Swal.stopTimer;
                            toast.onmouseleave = Swal.resumeTimer;
                        },
                        showClass: {
                            popup: `
                                animate__animated
                                animate__zoomIn
                            `
                        }
                    });
                    Toast.fire({
                        icon: 'success',
                        title: 'Berhasil keluar'
                    });
                    setTimeout(function () {
                        window.location.href = '/';
                    }, 3000);
                }
            });
        }
    </script>

</body>

</html>